document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelectorAll(".reference-card"),t=document.getElementById("referenceCarouselInner"),n=document.getElementById("referenceModalLabel"),a=document.getElementById("referenceModalDesc");let r=[],c="",o="";e.forEach((e=>{e.addEventListener("click",(()=>{r=function(e){const t=e.getAttribute("data-images");if(t)return t.split(",").map((e=>e.trim())).filter(Boolean);const n=e.getAttribute("data-img");return n?[n]:[]}(e),c=e.getAttribute("data-title")||"",o=e.getAttribute("data-desc")||"",t.innerHTML=r.map(((e,t)=>`\n            <div class="carousel-item${0===t?" active":""}">\n                <img src="${e}" class="d-block w-100 rounded" alt="${c}">\n            </div>\n        `)).join("");const d=document.querySelector("#referenceCarousel .carousel-indicators");d&&(d.innerHTML=r.map(((e,t)=>`<button type="button"\n                    data-bs-target="#referenceCarousel"\n                    data-bs-slide-to="${t}"\n                    ${0===t?'class="active" aria-current="true"':""}\n                    aria-label="${t+1}. kÃ©p"></button>`)).join("")),n.textContent=c,a.textContent=o}))}));const d=document.getElementById("theme-toggle"),i=d.querySelector(".theme-icon");function l(e){document.documentElement.setAttribute("data-theme",e),localStorage.setItem("theme",e),function(e){i.textContent="dark"===e?"ðŸŒ™":"ðŸŒž"}(e)}const m=localStorage.getItem("theme");m?l(m):window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?l("dark"):l("light"),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(e=>{localStorage.getItem("theme")||l(e.matches?"dark":"light")})),d.addEventListener("click",(()=>{l("light"===document.documentElement.getAttribute("data-theme")?"dark":"light")}))}));